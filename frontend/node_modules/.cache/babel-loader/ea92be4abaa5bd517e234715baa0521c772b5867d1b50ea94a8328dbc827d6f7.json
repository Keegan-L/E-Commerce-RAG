{"ast":null,"code":"var _jsxFileName = \"/Users/keeganli/Desktop/Github/Instalily RAG/frontend/src/components/ChatMessage.jsx\";\nimport React from 'react';\nimport { Box, Typography, Paper, List, ListItem, ListItemText } from '@mui/material';\nimport ProductCard from './ProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatMessage = ({\n  message\n}) => {\n  const isAssistant = message.role === 'assistant';\n\n  // Function to format the message content with bullet points and sections\n  const formatMessage = content => {\n    // Split the content into sections based on common patterns\n    const sections = content.split(/\\n\\n/);\n    return sections.map((section, index) => {\n      // Check if section is a list\n      if (section.includes('**') || section.includes('*')) {\n        const items = section.split(/\\n/).filter(item => item.trim());\n        return /*#__PURE__*/_jsxDEV(List, {\n          dense: true,\n          sx: {\n            pl: 0\n          },\n          children: items.map((item, idx) => /*#__PURE__*/_jsxDEV(ListItem, {\n            sx: {\n              py: 0.5\n            },\n            children: /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: item.replace(/\\*\\*/g, '').replace(/\\*/g, ''),\n              sx: {\n                '& .MuiListItemText-primary': {\n                  fontSize: '0.95rem',\n                  color: isAssistant ? '#333' : 'white'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 21,\n              columnNumber: 17\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 15\n          }, this))\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        sx: {\n          mb: 1,\n          color: isAssistant ? '#333' : 'white',\n          fontSize: '0.95rem'\n        },\n        children: section\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: isAssistant ? 'flex-start' : 'flex-end',\n      mb: 1\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 1,\n      sx: {\n        p: 2,\n        maxWidth: '80%',\n        backgroundColor: isAssistant ? 'white' : '#1976d2',\n        borderRadius: isAssistant ? '16px 16px 16px 0' : '16px 16px 0 16px'\n      },\n      children: [formatMessage(message.content), message.partInfo && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(ProductCard, {\n          partInfo: message.partInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_c = ChatMessage;\nexport default ChatMessage;\nvar _c;\n$RefreshReg$(_c, \"ChatMessage\");","map":{"version":3,"names":["React","Box","Typography","Paper","List","ListItem","ListItemText","ProductCard","jsxDEV","_jsxDEV","ChatMessage","message","isAssistant","role","formatMessage","content","sections","split","map","section","index","includes","items","filter","item","trim","dense","sx","pl","children","idx","py","primary","replace","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","variant","mb","display","justifyContent","elevation","p","maxWidth","backgroundColor","borderRadius","partInfo","mt","_c","$RefreshReg$"],"sources":["/Users/keeganli/Desktop/Github/Instalily RAG/frontend/src/components/ChatMessage.jsx"],"sourcesContent":["import React from 'react';\nimport { Box, Typography, Paper, List, ListItem, ListItemText } from '@mui/material';\nimport ProductCard from './ProductCard';\n\nconst ChatMessage = ({ message }) => {\n  const isAssistant = message.role === 'assistant';\n\n  // Function to format the message content with bullet points and sections\n  const formatMessage = (content) => {\n    // Split the content into sections based on common patterns\n    const sections = content.split(/\\n\\n/);\n    \n    return sections.map((section, index) => {\n      // Check if section is a list\n      if (section.includes('**') || section.includes('*')) {\n        const items = section.split(/\\n/).filter(item => item.trim());\n        return (\n          <List key={index} dense sx={{ pl: 0 }}>\n            {items.map((item, idx) => (\n              <ListItem key={idx} sx={{ py: 0.5 }}>\n                <ListItemText \n                  primary={item.replace(/\\*\\*/g, '').replace(/\\*/g, '')}\n                  sx={{ \n                    '& .MuiListItemText-primary': {\n                      fontSize: '0.95rem',\n                      color: isAssistant ? '#333' : 'white'\n                    }\n                  }}\n                />\n              </ListItem>\n            ))}\n          </List>\n        );\n      }\n      \n      return (\n        <Typography \n          key={index} \n          variant=\"body1\" \n          sx={{ \n            mb: 1,\n            color: isAssistant ? '#333' : 'white',\n            fontSize: '0.95rem'\n          }}\n        >\n          {section}\n        </Typography>\n      );\n    });\n  };\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: isAssistant ? 'flex-start' : 'flex-end',\n        mb: 1\n      }}\n    >\n      <Paper\n        elevation={1}\n        sx={{\n          p: 2,\n          maxWidth: '80%',\n          backgroundColor: isAssistant ? 'white' : '#1976d2',\n          borderRadius: isAssistant ? '16px 16px 16px 0' : '16px 16px 0 16px'\n        }}\n      >\n        {formatMessage(message.content)}\n        {message.partInfo && (\n          <Box sx={{ mt: 2 }}>\n            <ProductCard partInfo={message.partInfo} />\n          </Box>\n        )}\n      </Paper>\n    </Box>\n  );\n};\n\nexport default ChatMessage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}